<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Abbotsbury Motor Works - BMW R80 Specialist</title>
    <meta name="description" content="UK specialists in BMW R80 motorcycle repairs and modifications">
    <link href="https://fonts.googleapis.com/css?family=Arial%7CBaskervville&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="stylesheet" href="style.css">

</head>

<body>
    <div id="page">
        <!-- Fixed Navigation -->
        <nav class="nav">
            <span class="logo lg-view"><a href="#" onclick="showHome(); return false;">Abbotsbury Motor Works</a></span>
            <span class="logo sm-view"><a href="#" onclick="showHome(); return false;">AMW</a></span>
            <ul>
                <li><a href="#home" onclick="loadContent('home'); return false;">Home</a></li>
                <li><a href="#products" onclick="loadContent('products'); return false;">Products</a></li>
                <li><a href="#contact" onclick="loadContent('contact'); return false;">Contact</a></li>
            </ul>
        </nav>

        <!-- Dynamic Content -->
        <main>
            <div id="dynamic-content"></div>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-container">
                <div class="footer-links">
                    <a href="#" onclick="copyEmail(); return false;" class="footer-link"><i class="fas fa-envelope"></i>
                        amwhubs@gmail.com</a>
                    <a href="https://www.instagram.com/gs_scrambler/" target="_blank" class="footer-link">
                        <i class="fab fa-instagram"></i> Instagram
                    </a>
                </div>
                <span id="stef">Website by Stefania</span>
            </div>
            <button id="back-to-top" onclick="scrollToTop()">â†‘ Back to Top</button>
        </footer>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <script>
        // Consolidated content loader
        function loadContent(page) {
            const content = document.getElementById('dynamic-content');
            fetch(`${page}.html`)
                .then(response => {
                    if (!response.ok) throw new Error('Failed to load');
                    return response.text();
                })
                .then(data => content.innerHTML = data)
                .catch(error => {
                    content.innerHTML = `
                            <div class="section error">
                                <h2>Page Load Error</h2>
                                <p>Unable to load ${page}. Please try again later.</p>
                                <button onclick="loadContent('home')">Return Home</button>
                            </div>`;
                });

        }

        function showHome() {
            loadContent('home');
        }

        // Scroll management
        window.addEventListener('scroll', function () {
            document.getElementById('back-to-top').style.display =
                window.scrollY > 300 ? 'block' : 'none';
        });

        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function copyEmail() {
            navigator.clipboard.writeText("amwhubs@gmail.com");
            alert("Email address copied to clipboard. Right click and paste on a new message in your email.");
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function () {
            loadContent('home');
        });

        //Modal logic
        const btns = document.querySelectorAll('.btn');
        const modal = document.querySelector('.modal-overlay');
        const closeBtn = document.querySelector('.close-modal-btn');

        function openModal() {
            modal.style.display = 'flex';
        }

        function closeModal() {
            modal.style.display = 'none';
        }

        btns.forEach(btn => {
            btn.addEventListener('click', openModal);
        });

        closeBtn.addEventListener('click', closeModal);

        // Close modal when clicking outside content
        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                closeModal();
            }
        });

    </script>
</body>

</html>